import{_ as s,c as a,o as i,V as e,af as t}from"./chunks/framework.Ca-bdDpS.js";const y=JSON.parse('{"title":"Python","description":"","frontmatter":{},"headers":[],"relativePath":"dashboards/python-widget.md","filePath":"dashboards/python-widget.md"}'),n={name:"dashboards/python-widget.md"},h=e(`<h1 id="python" tabindex="-1">Python <a class="header-anchor" href="#python" aria-label="Permalink to &quot;Python&quot;">​</a></h1><p>The Python widget integrates client-side Python to enable advanced analytics and visualizations in Dashboards. The Python widget is based on <a href="https://pyodide.org/" target="_blank" rel="noreferrer">Pyodide</a> library to run Python code in the browser. This means that you don&#39;t depend on any server and also increases privacy. The main disadvantage is scalability and the availability of packages. That said, if you need more we have Python, .Net and NodeJs backend services in our enterprise offering. <a href="https://graphsandnetworks.com/contact" target="_blank" rel="noreferrer">Contact us</a> for more info.</p><h2 id="python-packages" tabindex="-1">Python packages <a class="header-anchor" href="#python-packages" aria-label="Permalink to &quot;Python packages&quot;">​</a></h2><p>Pyodide comes with a large amount of packages pre-installed. You can check the list of available packages <a href="https://pyodide.org/en/stable/usage/packages-in-pyodide.html" target="_blank" rel="noreferrer">here</a>. If you need a package that is not available, let us know.</p><p>The most important packages included are: numpy, pandas, scikit-learn, matplotlib, scipy, networkx and igraph.</p><h2 id="qwiery-package" tabindex="-1">Qwiery package <a class="header-anchor" href="#qwiery-package" aria-label="Permalink to &quot;Qwiery package&quot;">​</a></h2><p>The Python widget integrates with Qwiery via the <code>Q</code> package. This package is a thin wrapper around the Qwiery API and allows you to interact with the Qwiery backend. The <code>Q</code> package is automatically available in the Python widget, but you can also import it explicitly via</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> Q</span></span></code></pre></div><p>Other packages can be imported as usual. For example, if you want to use <code>networkx</code> to create an <a href="https://en.wikipedia.org/wiki/Erd%C5%91s%E2%80%93R%C3%A9nyi_model" target="_blank" rel="noreferrer">Erdos-Renyi graph</a>, you can do:</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> networkx </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">as</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> nx</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">g</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">nx.erdos_renyi_graph(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">12</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">0.5</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">gs </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;nodes&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(g.nodes()),</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;edges&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(g.edges())</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Q.graph(gs)</span></span></code></pre></div><p>Several things should be noted here:</p><ul><li>the <code>Q.graph</code> function is used to send the graph to the dashboard widget. This will result in a graph being rendered.</li><li>the <code>nx.Graph</code> graph object is converted to a dictionary with nodes and edges. This is necessary because the graph object is not serializable and cannot be sent to the dashboard widget.</li><li>the <code>graph</code> method of <code>Q</code> effectively tells the widget to render a graph. If you want and bar-chart, area-chart... you can use <code>Q.bar</code>, <code>Q.aread</code> and so on.</li></ul><p>The standard packages allow you to go beyond the default Qwiery capabilities. For example, this script reads in some csv data :</p><div class="language-python vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">python</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> csv</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> js </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XMLHttpRequest</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">from</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> io </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">import</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> StringIO</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">req </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> XMLHttpRequest.new()</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">req.open(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;GET&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;/drugs.csv&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">False</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">req.send(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">None</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">)</span></span>
<span class="line"></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> StringIO(req.response)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">reader </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> csv.DictReader(data)</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">data_list </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> list</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(reader)</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">Q.grid(data_list)</span></span></code></pre></div><p>See the playground for various (advanced) examples.</p><h2 id="playground" tabindex="-1">Playground <a class="header-anchor" href="#playground" aria-label="Permalink to &quot;Playground&quot;">​</a></h2><p>There is <a href="https://demo.qwiery.com/playground" target="_blank" rel="noreferrer">a Python playground</a> available in the dashboard. You can use this to experiment with Python code.</p><p><img src="`+t+'" alt=""></p><div class="warning custom-block"><p class="custom-block-title">Important</p><p>The Python widget and the Q package is an experimental feature and is actively being developed. If you have any feedback or requests, please <a href="https://graphsandnetworks.com/contact" target="_blank" rel="noreferrer">let us know</a>.</p></div>',19),p=[h];function l(r,o,d,k,c,g){return i(),a("div",null,p)}const u=s(n,[["render",l]]);export{y as __pageData,u as default};
