import{_ as s,o as a,c as e,Q as n}from"./chunks/framework.b67c47e6.js";const u=JSON.parse('{"title":"SQL Adapter","description":"","frontmatter":{},"headers":[],"relativePath":"adapters/SQL/index.md","filePath":"adapters/SQL/index.md"}'),o={name:"adapters/SQL/index.md"},t=n(`<h1 id="sql-adapter" tabindex="-1">SQL Adapter <a class="header-anchor" href="#sql-adapter" aria-label="Permalink to &quot;SQL Adapter&quot;">​</a></h1><p>The SQL adapter allows you to use a relational database as a graph database.</p><p>To enable this you need to configure Qwiery as follows:</p><div class="language-javascript vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">javascript</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">import</span><span style="color:#E1E4E8;"> Sqlite </span><span style="color:#F97583;">from</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;~/utils/qwiery-sqlite/lib/index.js&quot;</span><span style="color:#E1E4E8;">;</span></span>
<span class="line"><span style="color:#E1E4E8;">Qwiery.</span><span style="color:#B392F0;">plugin</span><span style="color:#E1E4E8;">(Sqlite);</span></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">filePath</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#9ECBFF;">&quot;~/somewhere&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">q</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Qwiery</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">    adapters: [</span><span style="color:#9ECBFF;">&quot;sqlite&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">    sqlite: {</span></span>
<span class="line"><span style="color:#E1E4E8;">        dialect: </span><span style="color:#9ECBFF;">&quot;sqlite&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        storage: filePath,</span></span>
<span class="line"><span style="color:#E1E4E8;">    },</span></span>
<span class="line"><span style="color:#E1E4E8;">});</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">import</span><span style="color:#24292E;"> Sqlite </span><span style="color:#D73A49;">from</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;~/utils/qwiery-sqlite/lib/index.js&quot;</span><span style="color:#24292E;">;</span></span>
<span class="line"><span style="color:#24292E;">Qwiery.</span><span style="color:#6F42C1;">plugin</span><span style="color:#24292E;">(Sqlite);</span></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">filePath</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#032F62;">&quot;~/somewhere&quot;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">q</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Qwiery</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">    adapters: [</span><span style="color:#032F62;">&quot;sqlite&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">    sqlite: {</span></span>
<span class="line"><span style="color:#24292E;">        dialect: </span><span style="color:#032F62;">&quot;sqlite&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        storage: filePath,</span></span>
<span class="line"><span style="color:#24292E;">    },</span></span>
<span class="line"><span style="color:#24292E;">});</span></span></code></pre></div><h2 id="how-does-it-work" tabindex="-1">How does it work? <a class="header-anchor" href="#how-does-it-work" aria-label="Permalink to &quot;How does it work?&quot;">​</a></h2><p>The Qwiery SQL adapter creates/uses two table (called nodes and edges) and the graph mechanics sits in the SQL queries. The <a href="https://sequelize.org" target="_blank" rel="noreferrer">Sequelize</a> package is used to streamline things and allows to execute queries with a MongoDB-like syntax (aka projections). <strong>This means that pretty much any SQL database will work.</strong> There are no vendor-specific SQL queries and the heavy lifting is done inside Sequelize.</p><p>Of course, you can add domain specific elements things via custom queries. For instance, many apps in the oil and gas industry use <a href="https://www.energistics.org/" target="_blank" rel="noreferrer">Witsml</a> and it&#39;s straightforward to create graph visualizations even if the underlying database is relational.</p><p>For more details, please <a href="/enterprise">contact us</a>.</p><h2 id="pro-and-con" tabindex="-1">Pro and Con <a class="header-anchor" href="#pro-and-con" aria-label="Permalink to &quot;Pro and Con&quot;">​</a></h2><p>The main advantage of using a RDBMS for your graphs is not to have to install or buy an additional system component (say, Neo4j). For basic graph needs, this works great. The SQLite variant, in particular, is a robust solution if you wish to go beyond the JSON graph store without spending tons of money.</p><p>The main disadvantage is the fact that graph traversals (depth-first visits, shortest paths and all that) are inherently slow. Storing graphs in a relational system is easy, querying them can be a pain.</p><p>Additional considerations:</p><ul><li>some databases have built-in support for graphs (e.g. Microsoft SQL Server) and the generic SQL layer in Qwiery does not make use of vendor-specific SQL constructs. We do have code for this, <a href="/enterprise">contact us</a> if you wish to know more.</li><li>there are databases with their own graph layer, see for instance <a href="https://age.apache.org" target="_blank" rel="noreferrer">the Apache AGE project for PostGreSQL</a>.</li><li>some vendors mix the SQL language with graph constructs, see for instance <a href="https://surrealdb.com" target="_blank" rel="noreferrer">SurrealDB</a></li><li>the multi-modal databases combine graphs, documents, key-values and more. Examples are <a href="https://azure.microsoft.com/en-us/products/cosmos-db" target="_blank" rel="noreferrer">Microsoft CosmosDB</a>, <a href="https://arcadedb.com" target="_blank" rel="noreferrer">ArcadeDB</a> and many more</li><li>obviously, indexing and constraints are not focused on graphs but you can benefit from BLOB fields and mix the best of both worlds</li></ul>`,13),l=[t];function r(p,i,c,d,h,y){return a(),e("div",null,l)}const f=s(o,[["render",r]]);export{u as __pageData,f as default};
